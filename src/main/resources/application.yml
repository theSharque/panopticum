panopticum:
  limits:
    query-rows: 1000
    query-page-size: 100
    schemas: 500
    schemas-page-size: 50
    tables: 1000
    tables-page-size: 50
    collections: 500
    connections: 500
    redis:
      keys-per-page: 100
      value-preview-length: 10000

micronaut:
  application:
    name: panopticum
  router:
    static-resources:
      default:
        enabled: true
        mapping: "/css/**"
        paths: classpath:static/css
  security:
    authentication: basic
    csrf:
      enabled: false
    intercept-url-map:
      - pattern: /css/**
        access:
          - isAnonymous()
      - pattern: /login
        access:
          - isAnonymous()
      - pattern: /settings/add-postgres
        httpMethod: POST
        access:
          - isAuthenticated()
      - pattern: /settings/test-postgres
        httpMethod: POST
        access:
          - isAuthenticated()
      - pattern: /settings/add-mongo
        httpMethod: POST
        access:
          - isAuthenticated()
      - pattern: /settings/test-mongo
        httpMethod: POST
        access:
          - isAuthenticated()
      - pattern: /settings/delete-connection/*
        httpMethod: DELETE
        access:
          - isAuthenticated()
      - pattern: /settings/**
        access:
          - isAuthenticated()
      - pattern: /pg/**
        access:
          - isAuthenticated()
      - pattern: /mongo/**
        access:
          - isAuthenticated()
      - pattern: /settings/add-redis
        httpMethod: POST
        access:
          - isAuthenticated()
      - pattern: /settings/test-redis
        httpMethod: POST
        access:
          - isAuthenticated()
      - pattern: /redis/**
        access:
          - isAuthenticated()
  views:
    throttled-server-mode: false

datasources:
  default:
    url: jdbc:h2:file:${PANOPTICUM_DB_PATH:./data/panopticum};DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver

flyway:
  datasources:
    default:
      enabled: true
      locations: classpath:db/migration
